# **Документация API Swap Cards**

## **Общая информация**

- **Название API:** Swap Cards
- **Версия:** v0
- **Базовый URL:** `http://localhost:8080`

## **Теги API**

- **Пользователи** – методы для работы с пользователями
- **Карточки** – методы для управления карточками
- **Достижения** – методы для получения достижений

---

## **Пользователи**

### **1. Получить всех пользователей**

**GET** `/api/users`

- **Описание:** Возвращает список всех пользователей.
- **Ответы:**
    - `200 OK` – Список пользователей успешно получен

### **2. Создать нового пользователя**

**POST** `/api/users`

- **Описание:** Создает нового пользователя и возвращает его данные.
- **Тело запроса (JSON):**
  ```json
  {
    "userName": "example_user",
    "email": "user@example.com",
    "password": "securepassword"
  }
  ```
- **Ответы:**
    - `200 OK` – Пользователь успешно создан
    - `400 Bad Request` – Ошибка валидации данных
    - `500 Internal Server Error` – Внутренняя ошибка сервера

### **3. Получить пользователя по ID**

**GET** `/api/users/{id}`

- **Описание:** Возвращает информацию о пользователе.
- **Параметры:**
    - `id` (path) – ID пользователя (обязательный)
- **Ответы:**
    - `200 OK` – Пользователь найден
    - `404 Not Found` – Пользователь не найден

### **4. Найти пользователя по никнейму**

**GET** `/api/users/search`

- **Описание:** Ищет пользователей по никнейму, возвращает все подходящие варианты.
- **Параметры:**
    - `name` (query) – Никнейм пользователя (обязательный)
- **Ответы:**
    - `200 OK` – Результаты поиска успешно получены

### **5. Обновить аватар пользователя**

**PATCH** `/api/users/{id}/update-pic`

- **Описание:** Обновляет аватар пользователя.
- **Параметры:**
    - `id` (path) – ID пользователя (обязательный)
    - `newPic` (query) – Ссылка на новое изображение (обязательный)
- **Ответы:**
    - `200 OK` – Аватар успешно обновлен
    - `404 Not Found` – Пользователь не найден

### **6. Удалить аватар пользователя**

**DELETE** `/api/users/{id}/delete-pic`

- **Описание:** Удаляет аватар пользователя.
- **Параметры:**
    - `id` (path) – ID пользователя (обязательный)
- **Ответы:**
    - `204 No Content` – Аватар успешно удален
    - `404 Not Found` – Пользователь не найден

### **7. Получить все карточки пользователя**

**GET** `/api/users/{id}/cards`

- **Описание:** Возвращает список карточек пользователя.
- **Параметры:**
    - `id` (path) – ID пользователя (обязательный)
- **Ответы:**
    - `200 OK` – Карточки успешно получены
    - `404 Not Found` – Пользователь не найден

### **8. Получить достижения пользователя**

**GET** `/api/users/{id}/achievements`

- **Описание:** Возвращает список достижений пользователя.
- **Параметры:**
    - `id` (path) – ID пользователя (обязательный)
- **Ответы:**
    - `200 OK` – Список достижений успешно получен
    - `404 Not Found` – Пользователь не найден

### **9. Выдать достижение пользователю**

**POST** `/api/users/{id}/achievements/{achievementId}`

- **Описание:** Проверяет условия и назначает достижение пользователю.
- **Параметры:**
    - `id` (path) – ID пользователя (обязательный)
    - `achievementId` (path) – ID достижения (обязательный)
- **Ответы:**
    - `200 OK` – Достижение успешно выдано
    - `400 Bad Request` – Ошибка: достижение не может быть выдано
    - `404 Not Found` – Пользователь или достижение не найдены

---

## **Карточки**

### **1. Получить все карточки**

**GET** `/api/cards`

- **Описание:** Возвращает список всех карточек.
- **Ответы:**
    - `200 OK` – Список карточек успешно получен

### **2. Создать новую карточку**

**POST** `/api/cards`

- **Описание:** Создает карточку и возвращает информацию о ней.
- **Тело запроса (JSON):**
  ```json
  {
    "name": "Example Card",
    "linkToImage": "https://example.com/image.jpg",
    "description": "This is an example card"
  }
  ```
- **Ответы:**
    - `200 OK` – Карточка успешно создана
    - `400 Bad Request` – Ошибка валидации данных
    - `500 Internal Server Error` – Внутренняя ошибка сервера

### **3. Найти карточку по названию**

**GET** `/api/cards/search`

- **Описание:** Ищет карточку по названию, возвращает все подходящие варианты.
- **Параметры:**
    - `nameQuery` (query) – Название карточки (обязательный)
- **Ответы:**
    - `200 OK` – Результаты поиска успешно получены

### **4. Передать карточку другому пользователю**

**PATCH** `/api/cards/{cardId}/transfer`

- **Описание:** Передает карточку от пользователя-владельца новому пользователю.
- **Параметры:**
    - `cardId` (path) – ID карточки (обязательный)
    - `currentOwnerId` (query) – ID текущего владельца (обязательный)
    - `newOwnerId` (query) – ID нового владельца (обязательный)
- **Ответы:**
    - `200 OK` – Карточка успешно передана
    - `400 Bad Request` – Ошибка запроса (например, если передача невозможна)

---

## **Достижения**

### **1. Получить все достижения**

**GET** `/api/achievements`

- **Описание:** Возвращает список достижений.
- **Ответы:**
    - `200 OK` – Список достижений успешно получен

### **2. Получить достижение по ID**

**GET** `/api/achievements/{id}`

- **Описание:** Возвращает информацию о достижении.
- **Параметры:**
    - `id` (path) – ID достижения (обязательный)
- **Ответы:**
    - `200 OK` – Достижение найдено
    - `404 Not Found` – Достижение не найдено

---

## **Заключение**

Эта документация описывает API проекта Swap-Cards, созданного на основе Spring Boot. Используется OpenAPI (Swagger) для автоматической генерации спецификаций.

