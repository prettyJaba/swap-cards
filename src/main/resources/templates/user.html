<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <title>Профиль пользователя</title>
    <link rel="stylesheet" type="text/css" href="/css/styles.css" />
</head>
<body>
<h1>Профиль пользователя</h1>

<div>
    <h2 th:text="${user.userName}">Имя пользователя</h2>
    <img th:src="${user.linkToUserPic}" alt="Аватар" width="150" height="150" />
</div>

<h3>Карточки пользователя</h3>
<ul>
    <li th:each="card : ${cards}">
        <a th:href="@{'/cards/' + ${card.id}}" th:text="${card.name}">Название карточки</a>
    </li>
</ul>

<h3>Достижения пользователя</h3>
<ul>
    <li th:each="achievement : ${achievements}">
        <span th:text="${achievement.title}">Название достижения</span>
    </li>
</ul>

<div th:if="${successMessage}" style="color: green;">
    <p th:text="${successMessage}"></p>
</div>

<div th:if="${errorMessage}" style="color: red;">
    <p th:text="${errorMessage}"></p>
</div>
<!-- Кнопка для смены пароля только для текущего пользователя -->
<div th:if="${isCurrentUser}">
    <h3>Сменить пароль</h3>
    <form method="post" action="/change-password">
        <label>Старый пароль: <input type="password" name="oldPassword"/></label><br>
        <label>Новый пароль: <input type="password" name="newPassword"/></label><br>
        <button type="submit">Сменить пароль</button>
    </form>
</div>


<a href="/home">← Назад на главную</a>
</body>
</html>
